
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>hdfscm &#8212; hdfscm 0.1.1+3.g15e8f76 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Configuration Options" href="options.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="hdfscm">
<h1>hdfscm<a class="headerlink" href="#hdfscm" title="Permalink to this headline">¶</a></h1>
<p>A custom <a class="reference external" href="https://jupyter-notebook.readthedocs.io/en/stable/extending/contents.html">ContentsManager</a> for <a class="reference external" href="https://jupyter.org/">Jupyter Notebooks</a> that stores contents on
<a class="reference external" href="http://hadoop.apache.org/docs/current/hadoop-project-dist/hadoop-hdfs/HdfsDesign.html">HDFS</a>.</p>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">hdfscm</span></code> should be installed in the same Python environment as the notebook
server.</p>
<p>Note that for use with <a class="reference external" href="https://jupyterhub.readthedocs.io/en/stable/">JupyterHub</a> this means the <em>user’s</em> environment (which
is not necessarily the same environment run by the JupyterHub server).</p>
<p><strong>Install with Conda:</strong></p>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">install</span> <span class="o">-</span><span class="n">c</span> <span class="n">conda</span><span class="o">-</span><span class="n">forge</span> <span class="n">jupyter</span><span class="o">-</span><span class="n">hdfscm</span>
</pre></div>
</div>
<p><strong>Install with Pip:</strong></p>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">jupyter</span><span class="o">-</span><span class="n">hdfscm</span>
</pre></div>
</div>
<p><strong>Install from source:</strong></p>
<div class="code highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">git</span><span class="o">+</span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">jcrist</span><span class="o">/</span><span class="n">hdfscm</span><span class="o">.</span><span class="n">git</span>
</pre></div>
</div>
</div>
<div class="section" id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h2>
<p>To enable, add the following line to your <code class="docutils literal notranslate"><span class="pre">jupyter_notebook_config.py</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">c</span><span class="o">.</span><span class="n">NotebookApp</span><span class="o">.</span><span class="n">contents_manager_class</span> <span class="o">=</span> <span class="s1">&#39;hdfscm.HDFSContentsManager&#39;</span>
</pre></div>
</div>
<p>By default notebooks are stored on HDFS at <code class="docutils literal notranslate"><span class="pre">'/user/{username}/notebooks'</span></code>. To
change this, configure either <code class="docutils literal notranslate"><span class="pre">HDFSContentsManager.root_dir_template</span></code> (a
template string) or <code class="docutils literal notranslate"><span class="pre">HDFSContentsManager.root_dir</span></code> directly:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Example: Store notebooks in /jupyter/notebooks/{username} instead</span>
<span class="n">c</span><span class="o">.</span><span class="n">HDFSContentsManager</span><span class="o">.</span><span class="n">root_dir_template</span> <span class="o">=</span> <span class="s1">&#39;/jupyter/notebooks/{username}&#39;</span>
</pre></div>
</div>
<p>For most systems these parameters should be enough, other fields will be
inferred from the environment. Note that if your hadoop cluster has kerberos
enabled, you’ll need to have acquired credentials before starting the notebook
server (either through <code class="docutils literal notranslate"><span class="pre">kinit</span></code>, or distributed as a delegation token).</p>
<p>If you encounter classpath issues initializing the filesystem, refer to the
<a class="reference external" href="https://arrow.apache.org/docs/python/filesystems.html#hadoop-file-system-hdfs">pyarrow hdfs documentation</a>. In most environments setting
<code class="docutils literal notranslate"><span class="pre">ARROW_LIBHDFS_DIR</span></code> resolves these issues.</p>
<p>For more information on all configuration options, see <a class="reference internal" href="options.html"><span class="doc">Configuration Options</span></a>.</p>
</div>
<div class="section" id="additional-resources">
<h2>Additional Resources<a class="headerlink" href="#additional-resources" title="Permalink to this headline">¶</a></h2>
<p>If you’re interested in <code class="docutils literal notranslate"><span class="pre">hdfscm</span></code>, you may also be interested in a few
other libraries:</p>
<ul class="simple">
<li><a class="reference external" href="https://jcrist.github.io/yarnspawner/">yarnspawner</a>: A JupyterHub <a class="reference external" href="https://github.com/jupyterhub/jupyterhub/wiki/Spawners">Spawner</a> for launching notebook servers on YARN.
This can be used in tandem with <code class="docutils literal notranslate"><span class="pre">hdfscm</span></code> providing a way to persist
notebooks between sessions.</li>
<li><a class="reference external" href="https://github.com/quantopian/pgcontents">pgcontents</a>: A Jupyter <a class="reference external" href="https://jupyter-notebook.readthedocs.io/en/stable/extending/contents.html">ContentsManager</a> for storing contents in a <a class="reference external" href="https://www.postgresql.org/">Postgres</a>
database.</li>
<li><a class="reference external" href="https://github.com/danielfrg/s3contents">s3contents</a>: A Jupyter <a class="reference external" href="https://jupyter-notebook.readthedocs.io/en/stable/extending/contents.html">ContentsManager</a> for storing contents in an object
store like <a class="reference external" href="https://aws.amazon.com/s3/">S3</a> or <a class="reference external" href="https://cloud.google.com/storage/">GCS</a>.</li>
<li><a class="reference external" href="https://arrow.apache.org/docs/python/">pyarrow</a>: Among other things, this Python library provides the HDFS client
used for <code class="docutils literal notranslate"><span class="pre">hdfscm</span></code>.</li>
</ul>
<div class="toctree-wrapper compound">
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="#">hdfscm</a></h1>



<p class="blurb">A Jupyter ContentsManager for storing content on HDFS</p>




<p>
<iframe src="https://ghbtns.com/github-btn.html?user=jcrist&repo=hdfscm&type=watch&count=False&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





    

<p>
<a class="badge" href="https://travis-ci.org/jcrist/hdfscm">
    <img
        alt="https://secure.travis-ci.org/jcrist/hdfscm.svg?branch=master"
        src="https://secure.travis-ci.org/jcrist/hdfscm.svg?branch=master"
    />
</a>
</p>


<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="options.html">Configuration Options</a></li>
</ul>

<h3>Need help?</h3>

<p>
  Open an issue in the <a href="https://github.com/jcrist/hdfscm/issues">issue tracker</a>.
</p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, Jim Crist.
      
      |
      <a href="_sources/index.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>